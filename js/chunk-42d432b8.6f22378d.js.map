{"version":3,"sources":["webpack:///./src/views/rank/rank.vue?30c9","webpack:///src/views/rank/rank.vue","webpack:///./src/views/rank/rank.vue?5eab","webpack:///./src/views/rank/rank.vue","webpack:///./src/views/rank/rank.vue?b326","webpack:///./src/api/rank.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","topList","_l","item","index","key","on","$event","seletToplist","directives","name","rawName","value","expression","song","_v","_s","songname","singername","length","_e","staticRenderFns","component","getTopList","url","data","Object","assign","commonParams","uin","needNewCode","platform","jsonp","options","getMusicList","topid","tpl","page","type"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,OAAOC,YAAY,QAAQ,CAACH,EAAG,SAAS,CAACE,IAAI,UAAUC,YAAY,UAAUC,MAAM,CAAC,KAAOR,EAAIS,UAAU,CAACL,EAAG,KAAKJ,EAAIU,GAAIV,EAAW,SAAE,SAASW,EAAKC,GAAO,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAML,YAAY,OAAOO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,aAAaL,MAAS,CAACP,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACa,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAW,OAAEU,WAAW,gBAAgBb,MAAM,CAAC,MAAQ,MAAM,OAAS,MAAM,IAAM,GAAG,IAAM,QAAQJ,EAAG,KAAK,CAACG,YAAY,YAAYP,EAAIU,GAAIC,EAAa,UAAE,SAASW,EAAKV,GAAO,OAAOR,EAAG,KAAK,CAACS,IAAID,EAAML,YAAY,QAAQ,CAACH,EAAG,OAAO,CAACJ,EAAIuB,GAAGvB,EAAIwB,GAAGZ,EAAQ,GAAG,OAAOR,EAAG,OAAO,CAACJ,EAAIuB,GAAGvB,EAAIwB,GAAGF,EAAKG,UAAU,KAAKzB,EAAIwB,GAAGF,EAAKI,oBAAmB,QAAO,GAAK1B,EAAIS,QAAQkB,OAAsE3B,EAAI4B,KAAlExB,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,YAAY,KAAcA,EAAG,gBAAgB,IAC95ByB,EAAkB,G,gGC8BtB,GACE,KAAF,OACE,OAAF,SACE,KAHF,WAII,MAAJ,CACM,QAAN,KAGE,WAAF,CACI,OAAJ,OACI,QAAJ,QAEE,QAZF,WAaI,KAAJ,eAEE,QAAF,gBACI,eADJ,SACA,GACM,IAAN,uBACM,KAAN,0BACM,KAAN,yBAEI,YANJ,WAMM,IAAN,OACM,OAAN,OAAM,GAAN,kBACA,2BACU,EAAV,4BAII,aAbJ,SAaA,GACM,KAAN,cACQ,KAAR,wBAEM,KAAN,gBAEA,gBACI,WAAJ,kBClE6V,I,wBCQzVC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,W,oCCAA,gGAMaC,EAAa,WACtB,IAAMC,EAAM,qDAENC,EAAOC,OAAOC,OAAO,GAAIC,OAAc,CACzCC,IAAK,EACLC,YAAa,EACbC,SAAU,OAEd,OAAOC,eAAMR,EAAKC,EAAMQ,SAMfC,EAAe,SAACC,GACzB,IAAMX,EAAM,sDAENC,EAAOC,OAAOC,OAAO,GAAIC,OAAc,CACzCO,QACAL,YAAa,EACbD,IAAK,EACLO,IAAK,EACLC,KAAM,SACNC,KAAM,MACNP,SAAU,OAGd,OAAOC,eAAMR,EAAKC,EAAMQ,U","file":"js/chunk-42d432b8.6f22378d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rank\",staticClass:\"rank\"},[_c('Scroll',{ref:\"toplist\",staticClass:\"toplist\",attrs:{\"data\":_vm.topList}},[_c('ul',_vm._l((_vm.topList),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.seletToplist(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],attrs:{\"width\":\"100\",\"height\":\"100\",\"alt\":\"\",\"src\":\"\"}})]),_c('ul',{staticClass:\"songlist\"},_vm._l((item.songList),function(song,index){return _c('li',{key:index,staticClass:\"song\"},[_c('span',[_vm._v(_vm._s(index + 1)+\".\")]),_c('span',[_vm._v(_vm._s(song.songname)+\"--\"+_vm._s(song.singername))])])}),0)])}),0),(!_vm.topList.length)?_c('div',{staticClass:\"loading-container\"},[_c('loading')],1):_vm._e()]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"rank\" ref=\"rank\">\r\n        <Scroll class=\"toplist\" ref=\"toplist\" :data=\"topList\">\r\n            <ul>\r\n                <li class=\"item\" v-for=\"(item,index) of topList\" :key=\"index\" @click=\"seletToplist(item)\">\r\n                    <div class=\"icon\">\r\n                        <img v-lazy=\"item.picUrl\" width=\"100\" height=\"100\" alt=\"\" src=\"\">\r\n                    </div>\r\n                    <ul class=\"songlist\">\r\n                        <li class=\"song\" v-for=\"(song,index) of item.songList\" :key=\"index\">\r\n                            <span>{{index + 1}}.</span>\r\n                            <span>{{song.songname}}--{{song.singername}}</span>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n            <div class=\"loading-container\" v-if=\"!topList.length\">\r\n                <loading></loading>\r\n            </div>\r\n        </Scroll>\r\n        <router-view></router-view>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Scroll from '@/base/scroll/scroll'\r\nimport Loading from '@/base/loading/loading'\r\nimport { getTopList } from '@/api/rank'\r\nimport { ERR_OK } from '@/api/config'\r\nimport { playlistMixin} from '@/assets/js/mixin'\r\nimport { mapMutations } from 'vuex'\r\nexport default {\r\n    name: 'Rank',\r\n    mixins: [playlistMixin],\r\n    data() {\r\n        return {\r\n            topList: []\r\n        }\r\n    },\r\n    components: {\r\n        Scroll,\r\n        Loading\r\n    },\r\n    created() {\r\n        this._getTopList()\r\n    },\r\n    methods: {\r\n        handlePlaylist(playlist) {\r\n            const bottom = playlist.length > 0 ? '60px' : ''\r\n            this.$refs.rank.style.bottom = bottom\r\n            this.$refs.toplist.refresh()\r\n        },\r\n        _getTopList() {\r\n            getTopList().then(res=> {\r\n                if(Object.is(res.code, ERR_OK)) {\r\n                    this.topList = res.data.topList\r\n                }\r\n            })\r\n        },\r\n        seletToplist(item) {\r\n            this.$router.push({\r\n                path: `/rank/${item.id}`\r\n            })\r\n            this.setTopList(item)\r\n        },\r\n        ...mapMutations({\r\n            setTopList:'SET_TOPLIST'\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n    @import '~@/assets/stylus/variable'\r\n    @import '~@/assets/stylus/mixin'\r\n    .rank\r\n        position fixed\r\n        width 100%\r\n        top 88px\r\n        bottom 0\r\n        .toplist\r\n            height 100%\r\n            overflow hidden\r\n            .item\r\n                display flex\r\n                margin 0 20px\r\n                padding-top 20px\r\n                height 100px\r\n                &:last-child\r\n                    padding-bottom 20px\r\n                .icon\r\n                    flex 0 0 100px\r\n                    width 100px\r\n                    height 100px\r\n                .songlist\r\n                    flex 1\r\n                    display flex\r\n                    flex-direction column\r\n                    justify-content center\r\n                    padding 0 20px\r\n                    height 100px\r\n                    overflow hidden\r\n                    background $color-highlight-background\r\n                    color $color-text-d\r\n                    font-size $font-size-small\r\n                    .song\r\n                        no-wrap()\r\n                        line-height 26px\r\n                        span:first-child\r\n                            margin-right: 5px\r\n            .loading-container\r\n                position absolute\r\n                width 100%\r\n                height 50%\r\n                top 50%\r\n                transform translateY(-50%)\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./rank.vue?vue&type=template&id=6859dd9c&scoped=true&\"\nimport script from \"./rank.vue?vue&type=script&lang=js&\"\nexport * from \"./rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rank.vue?vue&type=style&index=0&id=6859dd9c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6859dd9c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./rank.vue?vue&type=style&index=0&id=6859dd9c&lang=stylus&scoped=true&\"","import jsonp from '@/assets/js/jsonp'\r\nimport { commonParams, options } from './config'\r\n\r\n/**\r\n * 获取排行页 榜单类型数据\r\n * */\r\nexport const getTopList = () => {\r\n    const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg'\r\n\r\n    const data = Object.assign({}, commonParams, {\r\n        uin: 0,\r\n        needNewCode: 1,\r\n        platform: 'h5'\r\n    })\r\n    return jsonp(url, data, options)\r\n}\r\n\r\n/**\r\n * 获取排行页 相应榜单歌曲数据\r\n * */\r\nexport const getMusicList = (topid) => {\r\n    const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg'\r\n\r\n    const data = Object.assign({}, commonParams, {\r\n        topid,\r\n        needNewCode: 1,\r\n        uin: 0,\r\n        tpl: 3,\r\n        page: 'detail',\r\n        type: 'top',\r\n        platform: 'h5'\r\n    })\r\n\r\n    return jsonp(url, data, options)\r\n}\r\n"],"sourceRoot":""}